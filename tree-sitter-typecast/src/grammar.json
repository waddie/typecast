{
  "$schema": "https://tree-sitter.github.io/tree-sitter/assets/schemas/grammar.schema.json",
  "name": "typecast",
  "rules": {
    "source_file": {
      "type": "REPEAT",
      "content": {
        "type": "SYMBOL",
        "name": "_line"
      }
    },
    "_line": {
      "type": "SEQ",
      "members": [
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "CHOICE",
              "members": [
                {
                  "type": "SYMBOL",
                  "name": "directive"
                },
                {
                  "type": "SYMBOL",
                  "name": "comment"
                },
                {
                  "type": "SYMBOL",
                  "name": "type_command"
                }
              ]
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "STRING",
          "value": "\n"
        }
      ]
    },
    "directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "@"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "PATTERN",
              "value": "[ \\t]+"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "speed_directive"
            },
            {
              "type": "SYMBOL",
              "name": "jitter_directive"
            },
            {
              "type": "SYMBOL",
              "name": "wait_directive"
            },
            {
              "type": "SYMBOL",
              "name": "shell_directive"
            },
            {
              "type": "SYMBOL",
              "name": "size_directive"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "inline_comment"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "speed_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "speed:"
        },
        {
          "type": "SYMBOL",
          "name": "float"
        }
      ]
    },
    "jitter_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "jitter:"
        },
        {
          "type": "SYMBOL",
          "name": "float"
        }
      ]
    },
    "wait_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "wait:"
        },
        {
          "type": "SYMBOL",
          "name": "float"
        }
      ]
    },
    "shell_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "shell:"
        },
        {
          "type": "SYMBOL",
          "name": "shell_path"
        }
      ]
    },
    "size_directive": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "size:"
        },
        {
          "type": "SYMBOL",
          "name": "integer"
        },
        {
          "type": "STRING",
          "value": ":"
        },
        {
          "type": "SYMBOL",
          "name": "integer"
        }
      ]
    },
    "comment": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "#"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "comment_text"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "inline_comment": {
      "type": "SEQ",
      "members": [
        {
          "type": "PATTERN",
          "value": "[ \\t]+"
        },
        {
          "type": "STRING",
          "value": "#"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "comment_text"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "comment_text": {
      "type": "PATTERN",
      "value": "[^\\n]+"
    },
    "type_command": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "$"
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "PATTERN",
              "value": "[ \\t]+"
            },
            {
              "type": "BLANK"
            }
          ]
        },
        {
          "type": "CHOICE",
          "members": [
            {
              "type": "SYMBOL",
              "name": "type_content"
            },
            {
              "type": "BLANK"
            }
          ]
        }
      ]
    },
    "type_content": {
      "type": "REPEAT1",
      "content": {
        "type": "CHOICE",
        "members": [
          {
            "type": "SYMBOL",
            "name": "special_key"
          },
          {
            "type": "SYMBOL",
            "name": "escaped_bracket"
          },
          {
            "type": "SYMBOL",
            "name": "text"
          }
        ]
      }
    },
    "special_key": {
      "type": "SEQ",
      "members": [
        {
          "type": "STRING",
          "value": "<"
        },
        {
          "type": "SYMBOL",
          "name": "key_spec"
        },
        {
          "type": "STRING",
          "value": ">"
        }
      ]
    },
    "key_spec": {
      "type": "CHOICE",
      "members": [
        {
          "type": "SYMBOL",
          "name": "modifier_combo"
        },
        {
          "type": "STRING",
          "value": "esc"
        },
        {
          "type": "STRING",
          "value": "space"
        },
        {
          "type": "STRING",
          "value": "ret"
        },
        {
          "type": "STRING",
          "value": "return"
        },
        {
          "type": "STRING",
          "value": "enter"
        },
        {
          "type": "STRING",
          "value": "tab"
        },
        {
          "type": "STRING",
          "value": "backspace"
        },
        {
          "type": "STRING",
          "value": "bs"
        },
        {
          "type": "PATTERN",
          "value": "F([1-9]|1[0-2])"
        },
        {
          "type": "STRING",
          "value": "up"
        },
        {
          "type": "STRING",
          "value": "down"
        },
        {
          "type": "STRING",
          "value": "left"
        },
        {
          "type": "STRING",
          "value": "right"
        },
        {
          "type": "STRING",
          "value": "home"
        },
        {
          "type": "STRING",
          "value": "end"
        },
        {
          "type": "STRING",
          "value": "pageup"
        },
        {
          "type": "STRING",
          "value": "pgup"
        },
        {
          "type": "STRING",
          "value": "pagedown"
        },
        {
          "type": "STRING",
          "value": "pgdn"
        },
        {
          "type": "STRING",
          "value": "insert"
        },
        {
          "type": "STRING",
          "value": "ins"
        },
        {
          "type": "STRING",
          "value": "delete"
        },
        {
          "type": "STRING",
          "value": "del"
        }
      ]
    },
    "modifier_combo": {
      "type": "TOKEN",
      "content": {
        "type": "SEQ",
        "members": [
          {
            "type": "REPEAT1",
            "content": {
              "type": "CHOICE",
              "members": [
                {
                  "type": "PATTERN",
                  "value": "[CcAaMmSs]-"
                },
                {
                  "type": "PATTERN",
                  "value": "Ctrl-"
                },
                {
                  "type": "PATTERN",
                  "value": "ctrl-"
                },
                {
                  "type": "PATTERN",
                  "value": "CTRL-"
                },
                {
                  "type": "PATTERN",
                  "value": "Alt-"
                },
                {
                  "type": "PATTERN",
                  "value": "alt-"
                },
                {
                  "type": "PATTERN",
                  "value": "ALT-"
                },
                {
                  "type": "PATTERN",
                  "value": "Meta-"
                },
                {
                  "type": "PATTERN",
                  "value": "meta-"
                },
                {
                  "type": "PATTERN",
                  "value": "META-"
                },
                {
                  "type": "PATTERN",
                  "value": "Shift-"
                },
                {
                  "type": "PATTERN",
                  "value": "shift-"
                },
                {
                  "type": "PATTERN",
                  "value": "SHIFT-"
                }
              ]
            }
          },
          {
            "type": "CHOICE",
            "members": [
              {
                "type": "PATTERN",
                "value": "[a-zA-Z0-9]"
              },
              {
                "type": "STRING",
                "value": "esc"
              },
              {
                "type": "STRING",
                "value": "space"
              },
              {
                "type": "STRING",
                "value": "ret"
              },
              {
                "type": "STRING",
                "value": "return"
              },
              {
                "type": "STRING",
                "value": "enter"
              },
              {
                "type": "STRING",
                "value": "tab"
              },
              {
                "type": "STRING",
                "value": "backspace"
              },
              {
                "type": "STRING",
                "value": "bs"
              },
              {
                "type": "PATTERN",
                "value": "F([1-9]|1[0-2])"
              },
              {
                "type": "STRING",
                "value": "up"
              },
              {
                "type": "STRING",
                "value": "down"
              },
              {
                "type": "STRING",
                "value": "left"
              },
              {
                "type": "STRING",
                "value": "right"
              },
              {
                "type": "STRING",
                "value": "home"
              },
              {
                "type": "STRING",
                "value": "end"
              },
              {
                "type": "STRING",
                "value": "pageup"
              },
              {
                "type": "STRING",
                "value": "pgup"
              },
              {
                "type": "STRING",
                "value": "pagedown"
              },
              {
                "type": "STRING",
                "value": "pgdn"
              },
              {
                "type": "STRING",
                "value": "insert"
              },
              {
                "type": "STRING",
                "value": "ins"
              },
              {
                "type": "STRING",
                "value": "delete"
              },
              {
                "type": "STRING",
                "value": "del"
              },
              {
                "type": "PATTERN",
                "value": "[\\[\\]\\\\]"
              }
            ]
          }
        ]
      }
    },
    "escaped_bracket": {
      "type": "CHOICE",
      "members": [
        {
          "type": "PATTERN",
          "value": "\\\\<"
        },
        {
          "type": "PATTERN",
          "value": "\\\\>"
        }
      ]
    },
    "text": {
      "type": "PATTERN",
      "value": "[^<\\\\\\n]+"
    },
    "float": {
      "type": "PATTERN",
      "value": "[+-]?([0-9]*[.])?[0-9]+"
    },
    "integer": {
      "type": "PATTERN",
      "value": "[0-9]+"
    },
    "shell_path": {
      "type": "PATTERN",
      "value": "[^\\n#]+"
    }
  },
  "extras": [],
  "conflicts": [],
  "precedences": [],
  "externals": [],
  "inline": [],
  "supertypes": [],
  "reserved": {}
}